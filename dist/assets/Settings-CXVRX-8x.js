import{h as y,i as V}from"./admin-Bu59Y2qZ.js";import{d as w,o as E,c as h,a as c,b as a,w as l,k as u,ab as k,r as m,l as _,aj as S,ak as B,f as C,M,g as N,h as U,e as j,L as D}from"./index-XMcsf4iL.js";const F={class:"space-y-6"},H=w({__name:"Settings",setup(I){const t=m({site_name:"",site_description:"",footer_text:""}),r=m(!1),i=m(!1),p=async()=>{r.value=!0;try{const o=await y();t.value={site_name:o.site_name||"",site_description:o.site_description||"",footer_text:o.footer_text||""}}catch{u.error("获取设置失败")}finally{r.value=!1}},f=async()=>{i.value=!0;try{await V(t.value),u.success("系统设置已更新")}catch{u.error("更新失败")}finally{i.value=!1}};return E(()=>{p()}),(o,e)=>{const d=N,n=M,v=U,x=D,g=k,b=B;return _(),h("div",F,[e[4]||(e[4]=c("div",{class:"flex items-center justify-between"},[c("h2",{class:"text-2xl font-bold text-primary"},"系统设置")],-1)),a(g,{shadow:"hover",class:"!border-none max-w-2xl"},{default:l(()=>[S((_(),C(x,{model:t.value,"label-position":"top"},{default:l(()=>[a(n,{label:"网站名称"},{default:l(()=>[a(d,{modelValue:t.value.site_name,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value.site_name=s),placeholder:"请输入网站名称"},null,8,["modelValue"])]),_:1}),a(n,{label:"网站描述"},{default:l(()=>[a(d,{modelValue:t.value.site_description,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.site_description=s),type:"textarea",rows:"3",placeholder:"请输入网站描述 (SEO Meta Description)"},null,8,["modelValue"])]),_:1}),a(n,{label:"底部版权文字"},{default:l(()=>[a(d,{modelValue:t.value.footer_text,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.footer_text=s),placeholder:"例如: © 2024 NewsHub. All rights reserved."},null,8,["modelValue"])]),_:1}),a(n,{class:"pt-4"},{default:l(()=>[a(v,{type:"primary",loading:i.value,onClick:f},{default:l(()=>[...e[3]||(e[3]=[j(" 保存更改 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])),[[b,r.value]])]),_:1})])}}});export{H as default};
