import{d as w,C,o as N,c as s,a as t,t as r,b as a,F as j,j as B,r as p,D as m,G as E,l as o,w as d,u,H as I,n as V,e as y,I as A,E as D,J as F,v as L,A as R}from"./index-XMcsf4iL.js";const S={class:"container mx-auto px-4 py-8"},T={class:"mb-8 border-b border-gray-200 pb-4"},$={class:"text-3xl font-bold text-gray-900"},z={key:0,class:"flex justify-center py-20"},G={key:1,class:"text-center py-20 text-gray-500"},H={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},J=["onClick"],M={class:"relative h-48 overflow-hidden bg-gray-100"},q=["src","alt"],K={key:1,class:"w-full h-full flex items-center justify-center text-gray-400"},O={class:"absolute top-0 right-0 bg-primary text-white text-xs px-3 py-1 m-2 rounded-full"},P={class:"p-5 flex flex-col flex-grow"},Q={class:"text-lg font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-primary transition-colors"},U={class:"text-gray-500 text-sm line-clamp-3 mb-4 flex-grow"},W={class:"flex items-center justify-between text-xs text-gray-400 mt-auto pt-4 border-t border-gray-100"},X={class:"flex items-center gap-1"},Y={class:"flex items-center gap-1"},oe=w({__name:"Category",setup(Z){const _=L(),x=F(),c=p([]),n=p(!1),g=m(()=>Number(_.params.id)),v={1:"时事",2:"国际",3:"科技",4:"体育",5:"财经",6:"文化"},h=m(()=>v[g.value]||"新闻列表"),f=async()=>{n.value=!0;try{c.value=await E(g.value,1,50)}catch(l){console.error(l)}finally{n.value=!1}};C(()=>_.params.id,()=>{f()}),N(()=>{f()});const b=l=>{x.push(`/article/${l}`)};return(l,ee)=>{const k=R,i=D;return o(),s("div",S,[t("div",T,[t("h1",$,r(h.value),1)]),n.value?(o(),s("div",z,[a(k,{animated:"",rows:5})])):c.value.length===0?(o(),s("div",G," 暂无相关新闻 ")):(o(),s("div",H,[(o(!0),s(j,null,B(c.value,e=>(o(),s("article",{key:e.id,class:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden border border-gray-100 cursor-pointer flex flex-col h-full group",onClick:te=>b(e.id)},[t("div",M,[e.image?(o(),s("img",{key:0,src:e.image,alt:e.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,q)):(o(),s("div",K,[a(i,{size:40},{default:d(()=>[a(u(I))]),_:1})])),t("div",O,r(e.category==="Category"?h.value:e.category),1)]),t("div",P,[t("h2",Q,r(e.title),1),t("p",U,r(e.excerpt),1),t("div",W,[t("span",X,[a(i,null,{default:d(()=>[a(u(V))]),_:1}),y(" "+r(e.author),1)]),t("span",Y,[a(i,null,{default:d(()=>[a(u(A))]),_:1}),y(" "+r(e.date),1)])])])],8,J))),128))]))])}}});export{oe as default};
